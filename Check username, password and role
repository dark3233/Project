#include <stdio.h>
#include <string.h>
int main(void)
{
	FILE *fptr;
	char no1[150], no2[150];
	char user[150], pass[150];
	char garbage[150];
	char role[150];
	int n;
	printf("You have an account, please press 0!\n");
	printf("You do not have an account, please press 1!\n");
	printf("-----------\n");
	scanf("%d",&n);
	printf("-----------\n");
	if (n==0) {
		fptr=fopen("Account.txt","a+");
		A:
		printf("Username: ");
		scanf("%s",&no1);
		printf("Password: ");
		scanf("%s",&no2);
		printf("-----------\n");
		while (fscanf(fptr,"%s",user)!=EOF) {
			if (strcmp(user,no1)==0) {
				fscanf(fptr,"%s %s",garbage,pass);
				if (strcmp(pass,no2)==0) {
					printf("Log in successful!\n");
					printf("-----------\n");
					fscanf(fptr,"%s %s",garbage,role);
					if (strcmp(role,"Student")==0) {
						printf("You are student!\n");
						printf("You have some choices!\n");
						printf("-----------\n");
					}
					if (strcmp(role,"Lecturer")==0) {
						printf("You are lecturer!\n");
						printf("You have some choices!\n");
						printf("-----------\n");
					}
				}
				else {
					printf("Password is wrong!\n");
					printf("-----------");
					goto A;
				}
			}
	    }
	    fclose(fptr);
	}
	return 0;
}
